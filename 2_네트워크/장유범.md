# 네트워크 토폴로지와 병목현상

## 네트워크 토폴로지(네트워크 구조)

- 네트워크 토폴로지는 노드와 링크가 어떻게 배치되어 있는지에 대한 방식이나 연결 형태를 의미
- 종류
  - 트리 토폴로지(계층형 토폴로지)
  - 버스 토폴로지
    - 스푸핑 : LAN상에서 송신부의 패킷을 송신과 관련 없는 다른 호스트에 가지 않도록 하는 스위칭 기능을 마비시키거나 속여서 특정 노드에 해당 패킷이 오도록 처리하는 것
      ![image](./j_image/j_spoofing_1.png)
      ![image](./j_image/j_spoofing_2.png)
  - 스타 토폴로지
  - 링형 토폴로지
  - 메시 토폴로지
    <br/><br/>
- 네트워크 토폴로지가 중요한 이유 -> 병목 현상을 찾을 때 중요한 기준

```
병목(Bottle neck) 현상이란 전체 시스템의 성능이나 용량이 하나의 구성 요소로 인해 제한을 받는 현상을 말한다.
병목 현상이 일어났을 경우, 네트워크가 어떤 토폴로지를 갖는지, 또, 어떠한 경로로 이루어져 있는지 안다면, 병목 현상에 좀 더 효율적으로 대처할 수 있다.
```

- <병목 현상이 일어난 네트워크 토폴로지>
  ![image](./j_image/j_bottleneck_1.png)

- 네트워크가 어떤 토폴로지를 갖는지를 안다면 회선을 적절하게 추가시킴으로써 병목 현상을 무난하게 해결할 수 있다.
- <적절한 회선 추가를 통한 병목 현상 해결>
  ![image](./j_image/j_bottleneck_2.png)

---

<br>

## IP 주소 체계

- IP 주소는 전 세계에서 유일하게 할당되어야 한다.
- IPv4 주소 체계와 IPv6 주소 체계로 나누어져 있으며 현재는 IPv4 주소 체계(32bit)를 사용하고 있다.
- 하지만 모든 사물이 인터넷으로 연결되는 사물 인터넷으로 인해 IP주소를 사용하는 기기가 폭발적으로 증가하면서 ,IPv4보다 월등히 많은 수의 IP주소를 할당할 수 있는 IPv6 주소체계로 대체될 것으로 보입니다.

![image](./j_image/j_IPv4.png)

- IPv4로 할당할 수 있는 IP 주소의 개수는 2^32(약 43억개)
- IP 주소의 구성 ( 네트워크 부 , 호스트 부 )
  - 호스트가 속한 네트워크 주소인 네트워크 부
    - 어떤 네트워크 인지를 나타내 다른 네트워크와 구분하는 역할
  - 호스트의 주소인 호스트 부
    - 해당 네트워크의 어느 호스트인지를 나타내 다른 호스트와 구분하는 역할
- cf) 호스트 - 컴퓨터뿐만 아니라 IP 주소가 할당되는 라우터를 포함

- 같은 네트워크 안에 있는 컴퓨터, 즉 라우터 없이도 데이터 전송이 가능한 컴퓨터는 네트워크 부가 동일하고 호스트 부만 다릅니다.
  <br> 달리 말하면 네트워크 부가 다르다는 것은 서로 다른 네트워크라는 의미이고, 라우터를 통하지 않고는 통신이 불가능하다는 뜻입니다. <br>서로 다른 네트워크가 라우터를 통해 통신이 가능한 것은 라우터가 IP 주소의 네트워크 부를 보고 라우팅을 하여 데이터를 전송하기 때문입니다.

![image](./j_image/j_IPv42.png)

- IP주소의 네트워크 주소와 호스트 주소를 구분할 수 있다.(IP주소의 클래스)
- A,B,C,D,E 클래스로 나누어져있다. ( D - 멀티캐스트용, E - 연구용으로 사용합니다. )

[IPv4 주소체계 참고자료](https://better-together.tistory.com/118)

[IP 주소의 클래스](https://limkydev.tistory.com/168)

---

## SSL/TLS

- SSL (Secure Sockets Layer)

  - 원래 웹에서의 데이터는 가로채면 누구나 읽을 수 있는 일반 텍스트 형태로 전송 되었다.
    -> 문제 해결을 위해 1995년에 암호화 기반 인터넷 보안 프로토콜 SSL이 개발 되었습니다.
  - 전달되는 모든 데이터를 암호화하고 특정한 유형의 사이버 공격 또한 차단한다.
  - TLS 암호화의 전신 이다 .
  - SSL은 1996년 SSL 3.0 이후 업데이트 되지 않았으며, 알려진 여러 취약성도 있어 앞으로 사라지게 될 것으로 여겨지고 있다.
    - 그 대안으로 TLS가 있다.

- TLS (Transport Layer Security)

  - SSL의 업데이트 버전으로 SSL의 최종 버전인 3.0과 TLS의 최초버전의 차이는 크지 않으며 , 이름이 바뀐 것은 SSL을 개발한 Netscape가 업데이트에 참여하지 않게되어 소유권 변경을 위해서 이다.
    -> 결과적으로 TLS는 SSL의 업데이트 버전이며 명칭만 다르다고 볼 수 있다.

- SSL/TLS 의 작동 방식

  - SSL은 개인정보 보호를 제공하기 위해, 웹에서 전송되는 데이터를 암호화한다.<br/> 따라서 가로채려해도 거의 복호화가 불가능하다.
  - SSL은 클라이언트와 서버간에 핸드세이크를 통해 인증이 이루어진다. 또한 데이터 무결성을 위해 데이터에 디지털 서명을 하여 데이터가 의도적으로 도착하기 전에 조작된 여부를 확인한다.

- SSL/TLS 핸드셰이크

  - 핸드셰이크는 클라이언트와 서버간의 메세지 교환이며, HTTPS 웹에 처음 커넥션할 때 진행된다.
    <br/>핸드셰이크의 단계는 클라이언트와 서버에서 지원하는 암호화 알고리즘, 키 교환 알고리즘에 따라 달라진다.
    <br/>일반적으로는 RSA 키 교환 알고리즘이 사용된다.

  - RSA 키 교환 알고리즘 순서

  1. 클라이언트 -> 서버 메세지 전송 - 이때 핸드셰이크가 시작된다. 이 메세지에는 TLS 버전, 암호화 알고리즘, 무작위 바이트 문자열이 포함된다.
  2. 서버 -> 클라이언트 메세지 전송 - 클라이언트의 메세지에 응답으로 서버의 SSL인증서, 선택한 암호화 알고리즘, 서버에서 생성한 무작위 바이트 문자열을 포함한 메세지를 전송한다.
  3. 인증 - 클라이언트가 서버의 SSL인증서를 인증 발행 기관에 검증한다.
  4. 예비 마스터 암호 - 클라이언트는 무작위 바이트 문자열을 공개 키로 암호화된 premater secret 키를 서버로 전송한다.
  5. 개인 키 사용 - 서버가 premaster secret 키를 개인 키를 통해 복호화한다. (개인 키로만 복호화 가능)
  6. 세션 키 생성 - 클라이언트와 서버는 클라이언트가 생성한 무작위 키, 서버가 생성한 무작위 키, premaster secret 키를 통해 세션 키를 생성한다. 양쪽은 같은 키가 생성되어야 한다.
  7. 클라이언트 완료 전송 - 클라이언트는 세션 키로 암호화된 완료 메세지를 전송한다.
  8. 서버 완료 전송 - 서버도 세션 키로 암호화된 완료 메세지를 전송한다.
  9. 핸드셰이크 완료 - 핸드셰이크가 완료되고, 세션 키를 이용해 통신을 진행한다.

[SSL/TLS 자료](https://kanoos-stu.tistory.com/46)

[RSA 암호화 알고리즘](https://blogger.pe.kr/583)
